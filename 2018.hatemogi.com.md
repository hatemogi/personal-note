2018년 개인 홈 개편 w/ Elm

- 뭔가?
- 뭘 했나?
- 뭐가 좋든가?
- 뭐가 어렵든가?
- 어디에 쓸만할 것 같은가?

> 이번 글에서는 [Elm](https://elm-lang.org)이라는 언어로 개인 홈페이지를 개편한 이야기를 드리려 합니다. 더불어 Bootstrap 대안으로 써볼 만한  Bulma도 소개합니다.

# Elm - 웹앱 개발을 위한 순수 함수형 언어

얼마 전 우연히 Elm이란 정적 컴파일 언어를 알게 됐습니다. 몇 년 전 Vue.js 문서를 읽다가 Elm에게서 좋은 영향을 받았다는 내용을 봤던 것 같아서, 더 자세히 살펴보게 된 것 같습니다. 그리고, 저 또한 함수형 언어에 대한 동경이 있기에, Elm이 순수 함수형 언어라는 점에서 더 호기심이 일었고요.

[elm-title.png]

그래서, 제가 한 번 해보기로 했습니다. 자바스크립트로 컴파일되는 **함수형** 프로그래밍 언어인 Elm을 배워보기로 말이죠.

기본 문법을 보며 아주 간단한 예제를 따라 해보고 나니, 이걸로 뭘 하면 좋을지 생각이 떠올랐습니다. 오래전 Hugo로 만들어뒀다가 방치해두어 곰팡이가 피어있는 개인 홈페이지를 개편하기로요. 꽤 쌓아둔 블로그 포스트도 있고, 해당 포스트로 유입되는 요청 수도 꽤 많아서 아까웠지만, 그 페이지들은 과감히 다 버리기로 합니다. 마이그레이션을 위해 노력하기에는 철 지난 글들이고, 너무 많은 노력을 들이다 보면 또 어느새 의욕이 바람과 함께 사라져서 흐지부지될까 봐 걱정이 앞섰거든요.

그런 목적을 두고 Elm을 좀 보니, 꽤 마음에 들었습니다. 저는 이미 동적 타입 언어인 Clojure에 코가 꿴  한 명이라서, 강한 정적 타입을 강조하는 Elm 스타일에 답답함을 잠시 느꼈지만, 그래도 처음 배우는 입장에서 컴파일러가 "이 타입 아님!"이라고 오류를 요목조목 짚어주니 마음 한편이 편안해지기도 했습니다. 아무래도 자신 없는 프런트엔드 쪽 작업을 하려고 보니, 정적 타입 컴파일러의 강점이 효과적으로 느껴지기도 했습니다.

또 무엇보다, 한 언어와 컴파일러 한 세트로, HTML/CSS/JS를 한 통으로 다 다루는 것이 좋습니다. 그리고 JS를 다룰 때에도, Vue.js나 React를 고르고, 또 그 뒤에 또 다른 상태 관리 라이브러리를 고르고 배우는 것이 혼란스럽던 차에, Elm은 그 모든 라이프사이클을 혼자 다 다루는 것이 아니겠습니까? Redux가 Elm의 영향을 받았다고 위키 페이지에도 나와있습니다. 그러니, 저 같은 백엔드 개발자가 멋모르고 프런트엔드 개발하려고 덤벼들기에 딱 좋은 구성이었습니다. 이런저런 고민이나 비교 선택할 필요 없이, 딱 Elm만 선택하면 되는 것입니다! 선택의 폭이 다양하면 더 좋을 것 같지만, 뭐가 뭔지 잘 모르는 초심자에게는 역으로 단점이 되니까 말이죠.

# Bulma - Flexbox 기반 CSS 프레임워크

트위터 부트스트랩이 나왔을 때 정말 고마웠습니다. 저 같은 개발자가 그럭저럭 봐줄 만한 구성의 웹 페이지를 거저 만들 수 있게 됐기 때문이죠. 부트스트랩을 접하고는, 사내 개발/관리 툴들은 죄다 부트스트랩으로 개발했더랍니다. 그리고, 이전 개인 홈페이지이자 블로그 사이트도 물론 부트스트랩으로 꾸며 만들었더랍니다.

그러나, 아무리 훌륭한 제품이 있더라도, 시간이 흐르면 뭔가 또 다른 강점을 드러내는 대안들이 나타나기도 하죠. 바로 그 대안이 Bulma가 될 수도 있을 것 같습니다.

Bulma는 기본적으로 JS 코드 없이 순수하게 CSS 프레임워크만 있는 것이라서, 단순합니다. 대신, JS로 다룰만한 동적인 처리는 직접 해야 합니다. 지금의 저처럼 Elm으로 모든 처리를 해보려는 입장에서는 최적인 거죠. Elm이 JS코드까지 다 다루고 있으니까요.

[벌마 이미지]

어차피 제가 부트스트랩을 아주 자유자재로 쓰는 입장이 아니니, 전환 비용도 없습니다. 꼬물꼬물 부트스트랩 문서 보고 한 엘리먼트씩 채워 넣는 작업이나, Bulma로 처음 하는 거나 별 차이가 없는 거죠. 그러니 과감하게 적용해 보기로 합니다.

# Elm에서의 HTML

Elm은 HTML을 보일 뷰(View)를 만들기 위해, 각 엘리먼트를 표시할 함수를 호출해서 준비합니다. 뷰를 표시할 기준이 되는 모델(Model)이 있고, 이 모델에 따라 뷰가 HTML요소를 조작해주는 거지요. 그래서 그 함수를 써서 뷰를 준비해 둔 모습은 이렇게 생겼습니다.

[elm-html.png]

줄마다 부연 설명을 적을까 하는 욕심이 일었지만, 이 글이 Elm 튜토리얼은 아니니 자제하겠습니다. 간단히, 그저 Elm 문법으로, HTML을 그리는 함수의 모습이 이렇게 생겼다 정도만 봐주시면 좋지 않을까 합니다. [지난 글](https://medium.com/happyprogrammer-in-jeju/개발자가-글을-올리는-방법-f7d35da1d49d)에서 클로저 언어로 HTML을 작성할 때의 장점과 마찬가지로, HTML을 그리는 중간중간에 그 언어 문법을 쓸 수 있으므로, 별도의 함수를 추출해서 호출한다거나 복잡한 분기를 처리한다거나 할 때 아주 쉽게 처리할 수 있습니다.

# 그래서 Elm으로 개인 홈페이지 개편

그렇게 Elm과 Bulma를 이용해 개인 홈을 개편했습니다. 이전 블로그 글은 다 버리고, 새로 마치 온라인 이력서인 양 소개를 위한 홈으로 바꾸었고요, 이대로 맘에 든다 싶으면, 다시 블로그처럼 포스팅을 올리는 공간으로 다듬어도 괜찮을 것 같습니다.

[개인 홈 이미지]

나름 애써 개편하고, Elm 소스코드를 설명하며, 선배형에게 자랑하려 했는데, 선배 형의 답변이 짤막했습니다.

무슨 개인 홈을 이렇게 어렵게 만들어?!

ㅋㅋㅋ 정곡을 찔려서 움찔했네요.

# Elm을 쓰면 좋을까?

워낙 제가 초보 수준이라 정확히 정리하기 어렵습니다만, 장단점을 애써 적어보겠습니다. 먼저 좋은 점은 이렇습니다.

- 프런트엔드 개발을 한 세트로 큰 고민 없이 구성하기 좋다.
- 강력한 타입 체킹 덕분에 안심이 든다.

아직 단점을 지적할 수준이 못되지만, 애써 꼽아보자면 아래의 단점이 치명적이라고 여긴다면 안 쓰는 것이 좋겠습니다.

- 일반 자바스크립트 라이브러리와 활발히 소통해야 하는 경우

Elm은 자바스크립트 코드로 컴파일되기는 하지만, 기존 자바스크립트 코드와는 철저히 격리되는 방식을 택했습니다. 마치 웹 워커(Web worker)와 상호 통신하는 것처럼 메시지 전달 방식으로 처리해야 합니다. 이 점은 다소 불편하다고 여길 수도 있겠습니다.

아무튼, 개인 프로젝트 한 두 개쯤에 더 써볼 만한 것 같습니다. 어떠신지요? 함수형 프런트엔드 개발에 관심이 있으시다면, 한번 살펴보심이?
